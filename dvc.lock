schema: '2.0'
stages:
  prepare:
    cmd: PYTHONPATH=. python obesity_estimator/dataset.py
    deps:
    - path: data/raw/obesity_estimation_modified.csv
      hash: md5
      md5: 4d06280fd13e91dd93b8d75329963048
      size: 275196
    - path: obesity_estimator/dataset.py
      hash: md5
      md5: e64207a10acf9b8bfcfe1ab1c35fa920
      size: 3941
    outs:
    - path: data/processed/obesity_estimation_clean.csv
      hash: md5
      md5: 185a81bfc9398c7bceffc189c8eb9cff
      size: 259769
  eda:
    cmd: PYTHONPATH=. python obesity_estimator/plots.py
    deps:
    - path: data/processed/obesity_estimation_clean.csv
      hash: md5
      md5: 185a81bfc9398c7bceffc189c8eb9cff
      size: 259769
    - path: obesity_estimator/plots.py
      hash: md5
      md5: dcadabebbe0aad06fcec479b08cc972f
      size: 6268
    outs:
    - path: reports/figures/eda
      hash: md5
      md5: 288be26971fc3431d6bfdd52bce045c9.dir
      size: 2193003
      nfiles: 30
  preprocessing:
    cmd: PYTHONPATH=. python obesity_estimator/features.py
    deps:
    - path: data/processed/obesity_estimation_clean.csv
      hash: md5
      md5: 185a81bfc9398c7bceffc189c8eb9cff
      size: 259769
    - path: obesity_estimator/features.py
      hash: md5
      md5: 0d217c1d2dcb11f2ae2f7af3ca91ff5e
      size: 5088
    outs:
    - path: data/interim/class_distribution.csv
      hash: md5
      md5: 6ba05a89bb791b4c1aa211cafad5e775
      size: 227
    - path: data/interim/preprocessor.pkl
      hash: md5
      md5: 403c0969738a67eb56d5ba2d308fa746
      size: 4442
    - path: data/interim/test_prepared.csv
      hash: md5
      md5: 2149288e43456c4e7296bbe098c47f7a
      size: 188027
    - path: data/interim/train_prepared.csv
      hash: md5
      md5: b05d60c35850172c29d850e894d18d11
      size: 437385
  training:
    cmd: PYTHONPATH=. python obesity_estimator/modeling/train.py
    deps:
    - path: data/interim/test_prepared.csv
      hash: md5
      md5: 2149288e43456c4e7296bbe098c47f7a
      size: 188027
    - path: data/interim/train_prepared.csv
      hash: md5
      md5: b05d60c35850172c29d850e894d18d11
      size: 437385
    - path: obesity_estimator/modeling/train.py
      hash: md5
      md5: 12dc4d60101863b2d8fd981aae87c947
      size: 9660
    outs:
    - path: models/best_model.joblib
      hash: md5
      md5: af269aec03c1e052056f4386731ea806
      size: 2109264
    - path: reports/figures/confusion_matrix.png
      hash: md5
      md5: 2ad26bbcdbc3754b38c8a4daefd6960b
      size: 111609
    - path: reports/metrics.json
      hash: md5
      md5: 2b88de0936c9963fa4a4e03a434bc401
      size: 122
  evaluation:
    cmd: PYTHONPATH=. python obesity_estimator/modeling/predict.py
    deps:
    - path: data/interim/test_prepared.csv
      hash: md5
      md5: 2149288e43456c4e7296bbe098c47f7a
      size: 188027
    - path: models/
      hash: md5
      md5: 5684e55b81532284d1e7b33d33af0ac5.dir
      size: 2109264
      nfiles: 1
    - path: obesity_estimator/modeling/predict.py
      hash: md5
      md5: 9e4f10af9e563802499583fbff93ee2a
      size: 6472
    - path: obesity_estimator/utils.py
      hash: md5
      md5: 49282ea26f7912787da1f31d5234b94b
      size: 1598
    outs:
    - path: reports/confusion_matrix.csv
      hash: md5
      md5: 17665ac30af2e303909518adec80b237
      size: 349
    - path: reports/confusion_matrix.png
      hash: md5
      md5: 39a8765a5e99bafe22019ec594651c6d
      size: 108963
    - path: reports/evaluation_results.csv
      hash: md5
      md5: fab8730361734cf8c8fc6840ed92e863
      size: 277
